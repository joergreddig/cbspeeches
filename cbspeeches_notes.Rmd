---
title: "Raw_data_load"
author: "Joerg Reddig"
date: "16 Mai 2018"
output: html_document
---


## Links for instructions

Tutorial: taking your data to go: <http://www.davekleinschmidt.com/r-packages/>

<http://rmhogervorst.nl/cleancode/blog/2016/03/07/create-package-for-dataset.html>
<http://kbroman.org/pkg_primer/pages/data.html>




## Create data folders

This command will create a data folder for the raw data

```{r}
# Create folder for raw data and copy it there:
devtools::use_data_raw()

```


Load raw data into data frame

```{r, eval=TRUE, echo=FALSE, warning=FALSE}

# use readtext package to load the text data into a data frame
# https://cran.r-project.org/web/packages/readtext/vignettes/readtext_vignette.html
# https://uc-r.github.io/tidy_text

library(readtext)
library(tidytext)
library(tidyverse)



# read the speeches from the text/pdf files
cbspeeches <- readtext("data-raw/*",
                 docvarsfrom = "filenames", 
                 docvarnames = c("date", "institution", "speaker"),
                 dvsep = " - ")

```


Use the `use_data` function to save the data frame into the data folder of the package as an `rda` file:

```{r}
devtools::use_data(cbspeeches, overwrite = TRUE)

```


For better access from other analytical tools, make the data also available in csv file format: 

```{r}
write.csv(cb_speech_data, file = "data/cbspeech.csv")
```



----------------------------------

## Create a help file

Create a file in the folder `R`:


```{r}
devtools::use_package_doc()
```


## Create documents

```{r}
devtools::document()
```



## Test and build

```{r}
devtools::check()
```




## Upload to Github

<https://github.com/joergreddig/cbspeeches.git>

Need to do this via the Git bash to connect the folder to a git repository. Then the push/pull functionality in RStudio works. 


